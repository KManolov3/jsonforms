{"version":3,"file":"jsonforms-vue.esm.js","sources":["../src/components/UnknownRenderer.vue","../src/components/UnknownRenderer.vue?vue&type=template&id=1df74034&lang.js","../src/jsonFormsCompositions.ts","../src/components/DispatchRenderer.vue","../src/components/DispatchRenderer.vue?vue&type=template&id=0e0a850f&lang.js","../src/components/DispatchCell.vue","../src/components/DispatchCell.vue?vue&type=template&id=d74ad3b8&lang.js","../src/components/JsonForms.vue","../src/components/JsonForms.vue?vue&type=template&id=5bbb079a&lang.js"],"sourcesContent":["<template>\n  <div>No applicable renderer found.</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'UnknownRenderer',\n});\n</script>\n","<template>\n  <div>No applicable renderer found.</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'UnknownRenderer',\n});\n</script>\n","import {\n  ControlElement,\n  Dispatch,\n  Layout,\n  mapDispatchToControlProps,\n  mapStateToControlProps,\n  mapStateToLayoutProps,\n  JsonFormsSubStates,\n  JsonSchema,\n  UISchemaElement,\n  CoreActions,\n  mapStateToEnumControlProps,\n  JsonFormsState,\n  mapStateToOneOfEnumControlProps,\n  OwnPropsOfMasterListItem,\n  mapStateToMasterListItemProps,\n  mapStateToControlWithDetailProps,\n  mapStateToArrayControlProps,\n  mapDispatchToArrayControlProps,\n  mapStateToAllOfProps,\n  mapStateToAnyOfProps,\n  mapStateToOneOfProps,\n  mapStateToJsonFormsRendererProps,\n  mapStateToArrayLayoutProps,\n  mapStateToCellProps,\n  JsonFormsRendererRegistryEntry,\n  JsonFormsCellRendererRegistryEntry,\n  defaultMapStateToEnumCellProps,\n  mapStateToDispatchCellProps,\n  mapStateToOneOfEnumCellProps,\n  StatePropsOfJsonFormsRenderer,\n  createId,\n  removeId,\n  mapStateToMultiEnumControlProps,\n  mapDispatchToMultiEnumProps,\n  mapStateToLabelProps,\n  LabelElement,\n} from '@jsonforms/core';\nimport {\n  PropType,\n  computed,\n  ComputedRef,\n  inject,\n  onBeforeMount,\n  onUnmounted,\n  ref,\n} from 'vue';\n\n/**\n * Constructs a props declaration for Vue components which can be used\n * for registered renderers and cells. These are typically used in combination\n * with one of the provided bindings, e.g. 'useJsonFormsControl'.\n *\n * Use the generic type parameter when using a specialized binding, e.g.\n * `rendererProps<Layout>()` in combination with `useJsonFormsLayout` or\n * `rendererProps<ControlElement>()` in combination with `useJsonFormsControl`.\n */\nexport const rendererProps = <U = UISchemaElement>() => ({\n  schema: {\n    required: true as const,\n    type: [Object, Boolean] as PropType<JsonSchema>,\n  },\n  uischema: {\n    required: true as const,\n    type: Object as PropType<U>,\n  },\n  path: {\n    required: true as const,\n    type: String,\n  },\n  enabled: {\n    required: false as const,\n    type: Boolean,\n    default: undefined,\n  },\n  renderers: {\n    required: false,\n    type: Array as PropType<JsonFormsRendererRegistryEntry[]>,\n    default: undefined,\n  },\n  cells: {\n    required: false,\n    type: Array as PropType<JsonFormsCellRendererRegistryEntry[]>,\n    default: undefined,\n  },\n  config: {\n    required: false,\n    type: Object,\n    default: undefined,\n  },\n});\n\n/**\n * Constructs a props declaration for Vue components which shall be used as\n * master list items.\n */\nexport const masterListItemProps = () => ({\n  index: {\n    required: true as const,\n    type: Number,\n  },\n  selected: {\n    required: true as const,\n    type: Boolean,\n  },\n  path: {\n    required: true as const,\n    type: String,\n  },\n  schema: {\n    required: true as const,\n    type: [Object, Boolean] as PropType<JsonSchema>,\n  },\n  handleSelect: {\n    required: false as const,\n    type: Function as PropType<(index: number) => void>,\n    default: undefined,\n  },\n  removeItem: {\n    required: false as const,\n    type: Function as PropType<(path: string, value: number) => void>,\n    default: undefined,\n  },\n});\n\nexport interface RendererProps<U = UISchemaElement> {\n  schema: JsonSchema;\n  uischema: U;\n  path: string;\n  enabled?: boolean;\n  renderers?: JsonFormsRendererRegistryEntry[];\n  cells?: JsonFormsCellRendererRegistryEntry[];\n  config?: any;\n}\n\nexport interface ControlProps extends RendererProps {\n  uischema: ControlElement;\n}\n\nexport type Required<T> = T extends object\n  ? { [P in keyof T]-?: NonNullable<T[P]> }\n  : T;\n\n// TODO fix @typescript-eslint/ban-types\n// eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/no-unused-vars\nexport function useControl<R, D, P extends {}>(\n  props: P,\n  stateMap: (state: JsonFormsState, props: P) => R\n): { control: ComputedRef<Required<R>> };\n// TODO fix @typescript-eslint/ban-types\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function useControl<R, D, P extends {}>(\n  props: P,\n  stateMap: (state: JsonFormsState, props: P) => R,\n  dispatchMap: (dispatch: Dispatch<CoreActions>) => D\n): { control: ComputedRef<Required<R>> } & D;\n// TODO fix @typescript-eslint/ban-types\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function useControl<R, D, P extends {}>(\n  props: P,\n  stateMap: (state: JsonFormsState, props: P) => R,\n  dispatchMap?: (dispatch: Dispatch<CoreActions>) => D\n) {\n  const jsonforms = inject<JsonFormsSubStates>('jsonforms');\n  const dispatch = inject<Dispatch<CoreActions>>('dispatch');\n\n  if (!jsonforms || !dispatch) {\n    throw \"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?\";\n  }\n\n  const id = ref<string | undefined>(undefined);\n  const control = computed(() => ({\n    ...props,\n    ...stateMap({ jsonforms }, props),\n    id: id.value,\n  }));\n\n  const dispatchMethods = dispatchMap?.(dispatch);\n\n  onBeforeMount(() => {\n    if ((control.value as any).uischema.scope) {\n      id.value = createId((control.value as any).uischema.scope);\n    }\n  });\n\n  onUnmounted(() => {\n    if (id.value) {\n      removeId(id.value);\n      id.value = undefined;\n    }\n  });\n\n  return {\n    control: control as unknown as ComputedRef<R>,\n    ...dispatchMethods,\n  };\n}\n\n/**\n * Provides generic bindings for 'Control' elements.\n * Should be used when no specialized bindings are appropriate.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsControl = (props: ControlProps) => {\n  return useControl(props, mapStateToControlProps, mapDispatchToControlProps);\n};\n\n/**\n * Provides bindings for 'Control' elements which can provide a 'detail',\n * for example array and object renderers.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsControlWithDetail = (props: ControlProps) => {\n  return useControl(\n    props,\n    mapStateToControlWithDetailProps,\n    mapDispatchToControlProps\n  );\n};\n\n/**\n * Provides bindings for 'Control' elements which resolve to 'enum' schema elements.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsEnumControl = (props: ControlProps) => {\n  return useControl(\n    props,\n    mapStateToEnumControlProps,\n    mapDispatchToControlProps\n  );\n};\n\n/**\n * Provides bindings for 'Control' elements which resolve to manually constructed\n * 'oneOf' enums. These are used to enhance enums with label support.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsOneOfEnumControl = (props: ControlProps) => {\n  return useControl(\n    props,\n    mapStateToOneOfEnumControlProps,\n    mapDispatchToControlProps\n  );\n};\n\n// Explicitly create type to avoid TS2732.\n// This is due to core's StatePropsOfArrayControl exposing AJV's ErrorObject type.\n// The same as the parameterized return type of useControl\n// Could alternatively be created like the following with Typescript 4.7+\n// but this does not work with the ESLint typescript parser, yet:\n// type UseJsonFormsArrayControlReturnType = typeof useControl<\n//   ReturnType<typeof mapStateToArrayControlProps>,\n//   ReturnType<typeof mapDispatchToArrayControlProps>,\n//   ControlProps\n// >;\ntype UseJsonFormsArrayControlReturnType = {\n  control: ComputedRef<\n    Required<ReturnType<typeof mapStateToArrayControlProps>>\n  >;\n} & ReturnType<typeof mapDispatchToArrayControlProps>;\n/**\n * Provides bindings for 'Control' elements which resolve to 'array' schema elements.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsArrayControl: (\n  props: ControlProps\n) => UseJsonFormsArrayControlReturnType = (props: ControlProps) => {\n  return useControl(\n    props,\n    mapStateToArrayControlProps,\n    mapDispatchToArrayControlProps\n  );\n};\n\n/**\n * Provides bindings for 'Control' elements which resolve to 'allOf' schema elements.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsAllOfControl = (props: ControlProps) => {\n  return useControl(props, mapStateToAllOfProps, mapDispatchToControlProps);\n};\n\n/**\n * Provides bindings for 'Control' elements which resolve to 'anyOf' schema elements.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsAnyOfControl = (props: ControlProps) => {\n  return useControl(props, mapStateToAnyOfProps, mapDispatchToControlProps);\n};\n\n/**\n * Provides bindings for 'Control' elements which resolve to 'oneOf' schema elements.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsOneOfControl = (props: ControlProps) => {\n  return useControl(props, mapStateToOneOfProps, mapDispatchToControlProps);\n};\n\n/**\n * Provides bindings for 'Control' elements which resolve to multiple choice enums.\n *\n * Access bindings via the provided reactive `control` object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsMultiEnumControl = (props: ControlProps) => {\n  return useControl(\n    props,\n    mapStateToMultiEnumControlProps,\n    mapDispatchToMultiEnumProps\n  );\n};\n\nexport interface LayoutProps extends RendererProps {\n  uischema: Layout;\n}\n\n/**\n * Provides bindings for 'Layout' elements, e.g. VerticalLayout, HorizontalLayout, Group.\n *\n * Access bindings via the provided reactive 'layout' object.\n */\nexport const useJsonFormsLayout = (props: LayoutProps) => {\n  const { control, ...other } = useControl(props, mapStateToLayoutProps);\n  return { layout: control, ...other };\n};\n\n/**\n * Provides bindings for 'Control' elements which resolve to 'array' elements which\n * shall be rendered as a layout instead of a control.\n *\n * Access bindings via the provided reactive 'layout' object.\n */\nexport const useJsonFormsArrayLayout = (props: ControlProps) => {\n  const { control, ...other } = useControl(props, mapStateToArrayLayoutProps);\n  return { layout: control, ...other };\n};\n\n/**\n * Provides bindings for list elements of a master-list-detail control setup.\n * The element using this binding is not supposed to be registered as an own renderer\n * but used in a more specialized control.\n *\n * Access bindings via the provided reactive 'item' object.\n */\nexport const useJsonFormsMasterListItem = (props: OwnPropsOfMasterListItem) => {\n  const { control, ...other } = useControl<\n    Omit<OwnPropsOfMasterListItem, 'handleSelect' | 'removeItem'>,\n    unknown,\n    OwnPropsOfMasterListItem\n  >(props, mapStateToMasterListItemProps);\n  return { item: control, ...other };\n};\n\n/**\n * Provides specialized bindings which can be used for any renderer.\n * Useful for meta elements like dispatchers.\n *\n * Access bindings via the provided reactive 'renderer' object.\n */\nexport const useJsonFormsRenderer = (props: RendererProps) => {\n  const jsonforms = inject<JsonFormsSubStates>('jsonforms');\n  const dispatch = inject<Dispatch<CoreActions>>('dispatch');\n\n  if (!jsonforms || !dispatch) {\n    throw \"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?\";\n  }\n\n  const rawProps = computed(\n    () =>\n      mapStateToJsonFormsRendererProps(\n        { jsonforms },\n        props\n      ) as Required<StatePropsOfJsonFormsRenderer>\n  );\n\n  const rootSchema = computed(() => rawProps.value.rootSchema);\n  const renderer = computed(() => {\n    const { rootSchema: _rootSchema, ...rest } = rawProps.value;\n    return rest;\n  });\n\n  return {\n    renderer,\n    rootSchema,\n  };\n};\n\n/**\n * Provides bindings for 'Label' elements.\n *\n * Access bindings via the provided reactive `label` object.\n */\nexport const useJsonFormsLabel = (props: RendererProps<LabelElement>) => {\n  const { control, ...other } = useControl(props, mapStateToLabelProps);\n  return { label: control, ...other };\n};\n\n/**\n * Provides bindings for cell elements. Cells are meant to show simple inputs,\n * for example without error validation, within a larger structure like tables.\n *\n * Access bindings via the provided reactive 'cell' object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsCell = (props: ControlProps) => {\n  const { control, ...other } = useControl(\n    props,\n    mapStateToCellProps,\n    mapDispatchToControlProps\n  );\n  return { cell: control, ...other };\n};\n\n/**\n * Provides bindings for enum cell elements. Cells are meant to show simple inputs,\n * for example without error validation, within a larger structure like tables.\n *\n * Access bindings via the provided reactive 'cell' object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsEnumCell = (props: ControlProps) => {\n  const { control, ...other } = useControl(\n    props,\n    defaultMapStateToEnumCellProps,\n    mapDispatchToControlProps\n  );\n  return { cell: control, ...other };\n};\n\n/**\n * Provides bindings for 'oneOf' enum cell elements. Cells are meant to show simple inputs,\n * for example without error validation, within a larger structure like tables.\n *\n * Access bindings via the provided reactive 'cell' object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsOneOfEnumCell = (props: ControlProps) => {\n  const { control, ...other } = useControl(\n    props,\n    mapStateToOneOfEnumCellProps,\n    mapDispatchToControlProps\n  );\n  return { cell: control, ...other };\n};\n\n/**\n * Provides bindings for a cell dispatcher. Cells are meant to show simple inputs,\n * for example without error validation, within a larger structure like tables.\n *\n * Access bindings via the provided reactive 'cell' object.\n * Dispatch changes via the provided `handleChange` method.\n */\nexport const useJsonFormsDispatchCell = (props: ControlProps) => {\n  const { control, ...other } = useControl(\n    props,\n    mapStateToDispatchCellProps,\n    mapDispatchToControlProps\n  );\n  return { cell: control, ...other };\n};\n","<template>\n  <component :is=\"determinedRenderer\" v-bind=\"renderer\"></component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport UnknownRenderer from './UnknownRenderer.vue';\nimport maxBy from 'lodash/maxBy';\nimport { rendererProps, useJsonFormsRenderer } from '../jsonFormsCompositions';\n\nexport default defineComponent({\n  name: 'DispatchRenderer',\n  props: {\n    ...rendererProps(),\n  },\n  setup(props) {\n    return useJsonFormsRenderer(props);\n  },\n  computed: {\n    determinedRenderer(): any {\n      const testerContext = {\n        rootSchema: this.rootSchema,\n        config: this.config,\n      };\n      const renderer = maxBy(this.renderer.renderers, (r) =>\n        r.tester(this.renderer.uischema, this.renderer.schema, testerContext)\n      );\n      if (\n        renderer === undefined ||\n        renderer.tester(\n          this.renderer.uischema,\n          this.renderer.schema,\n          testerContext\n        ) === -1\n      ) {\n        return UnknownRenderer;\n      } else {\n        return renderer.renderer;\n      }\n    },\n  },\n});\n</script>\n","<template>\n  <component :is=\"determinedRenderer\" v-bind=\"renderer\"></component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport UnknownRenderer from './UnknownRenderer.vue';\nimport maxBy from 'lodash/maxBy';\nimport { rendererProps, useJsonFormsRenderer } from '../jsonFormsCompositions';\n\nexport default defineComponent({\n  name: 'DispatchRenderer',\n  props: {\n    ...rendererProps(),\n  },\n  setup(props) {\n    return useJsonFormsRenderer(props);\n  },\n  computed: {\n    determinedRenderer(): any {\n      const testerContext = {\n        rootSchema: this.rootSchema,\n        config: this.config,\n      };\n      const renderer = maxBy(this.renderer.renderers, (r) =>\n        r.tester(this.renderer.uischema, this.renderer.schema, testerContext)\n      );\n      if (\n        renderer === undefined ||\n        renderer.tester(\n          this.renderer.uischema,\n          this.renderer.schema,\n          testerContext\n        ) === -1\n      ) {\n        return UnknownRenderer;\n      } else {\n        return renderer.renderer;\n      }\n    },\n  },\n});\n</script>\n","<template>\n  <component :is=\"determinedCell\" v-bind=\"cell\"></component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport UnknownRenderer from './UnknownRenderer.vue';\nimport maxBy from 'lodash/maxBy';\nimport {\n  rendererProps,\n  useJsonFormsDispatchCell,\n} from '../jsonFormsCompositions';\nimport { ControlElement } from '@jsonforms/core';\n\nexport default defineComponent({\n  name: 'DispatchCell',\n  props: {\n    ...rendererProps<ControlElement>(),\n  },\n  setup(props) {\n    return useJsonFormsDispatchCell(props);\n  },\n  computed: {\n    determinedCell(): any {\n      const testerContext = {\n        rootSchema: this.cell.rootSchema,\n        config: this.config,\n      };\n      const cell = maxBy(this.cell.cells, (r) =>\n        r.tester(this.cell.uischema, this.cell.schema, testerContext)\n      );\n      if (\n        cell === undefined ||\n        cell.tester(this.cell.uischema, this.cell.schema, testerContext) === -1\n      ) {\n        return UnknownRenderer;\n      } else {\n        return cell.cell;\n      }\n    },\n  },\n});\n</script>\n","<template>\n  <component :is=\"determinedCell\" v-bind=\"cell\"></component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport UnknownRenderer from './UnknownRenderer.vue';\nimport maxBy from 'lodash/maxBy';\nimport {\n  rendererProps,\n  useJsonFormsDispatchCell,\n} from '../jsonFormsCompositions';\nimport { ControlElement } from '@jsonforms/core';\n\nexport default defineComponent({\n  name: 'DispatchCell',\n  props: {\n    ...rendererProps<ControlElement>(),\n  },\n  setup(props) {\n    return useJsonFormsDispatchCell(props);\n  },\n  computed: {\n    determinedCell(): any {\n      const testerContext = {\n        rootSchema: this.cell.rootSchema,\n        config: this.config,\n      };\n      const cell = maxBy(this.cell.cells, (r) =>\n        r.tester(this.cell.uischema, this.cell.schema, testerContext)\n      );\n      if (\n        cell === undefined ||\n        cell.tester(this.cell.uischema, this.cell.schema, testerContext) === -1\n      ) {\n        return UnknownRenderer;\n      } else {\n        return cell.cell;\n      }\n    },\n  },\n});\n</script>\n","<template>\n  <dispatch-renderer\n    :schema=\"jsonforms.core.schema\"\n    :uischema=\"jsonforms.core.uischema\"\n    :path=\"''\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType, reactive, defineComponent } from 'vue';\nimport {\n  coreReducer,\n  Actions,\n  Generate,\n  configReducer,\n  JsonSchema,\n  UISchemaElement,\n  ValidationMode,\n  JsonFormsCore,\n  JsonFormsUISchemaRegistryEntry,\n  JsonFormsRendererRegistryEntry,\n  JsonFormsCellRendererRegistryEntry,\n  CoreActions,\n  i18nReducer,\n  JsonFormsI18nState,\n  defaultMiddleware,\n  Middleware,\n} from '@jsonforms/core';\nimport { JsonFormsChangeEvent, MaybeReadonly } from '../types';\nimport DispatchRenderer from './DispatchRenderer.vue';\n\nimport Ajv, { ErrorObject } from 'ajv';\n\n// TODO fix @typescript-eslint/ban-types\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isObject = (elem: any): elem is Object => {\n  return elem && typeof elem === 'object';\n};\n\nconst EMPTY: ErrorObject[] = reactive([]);\n\nexport default defineComponent({\n  name: 'JsonForms',\n  components: {\n    DispatchRenderer,\n  },\n  provide() {\n    return {\n      jsonforms: this.jsonforms,\n      dispatch: this.dispatch,\n    };\n  },\n  props: {\n    data: {\n      required: true,\n      type: [String, Number, Boolean, Array, Object] as PropType<any>,\n    },\n    schema: {\n      required: false,\n      type: [Object, Boolean] as PropType<JsonSchema>,\n      default: undefined,\n    },\n    uischema: {\n      required: false,\n      type: Object as PropType<UISchemaElement>,\n      default: undefined,\n    },\n    renderers: {\n      required: true,\n      type: Array as PropType<MaybeReadonly<JsonFormsRendererRegistryEntry[]>>,\n    },\n    cells: {\n      required: false,\n      type: Array as PropType<\n        MaybeReadonly<JsonFormsCellRendererRegistryEntry[]>\n      >,\n      default: () => [],\n    },\n    config: {\n      required: false,\n      type: Object as PropType<any>,\n      default: undefined,\n    },\n    readonly: {\n      required: false,\n      type: Boolean,\n      default: false,\n    },\n    uischemas: {\n      required: false,\n      type: Array as PropType<MaybeReadonly<JsonFormsUISchemaRegistryEntry[]>>,\n      default: () => [],\n    },\n    validationMode: {\n      required: false,\n      type: String as PropType<ValidationMode>,\n      default: 'ValidateAndShow',\n    },\n    ajv: {\n      required: false,\n      type: Object as PropType<Ajv>,\n      default: undefined,\n    },\n    i18n: {\n      required: false,\n      type: Object as PropType<JsonFormsI18nState>,\n      default: undefined,\n    },\n    additionalErrors: {\n      required: false,\n      type: Array as PropType<ErrorObject[]>,\n      default: () => EMPTY,\n    },\n    middleware: {\n      required: false,\n      type: Function as PropType<Middleware>,\n      default: defaultMiddleware,\n    },\n  },\n  emits: ['change'],\n  data() {\n    const dataToUse = this.data;\n    const generatorData = isObject(dataToUse) ? dataToUse : {};\n    const schemaToUse: JsonSchema =\n      this.schema ?? Generate.jsonSchema(generatorData);\n    const uischemaToUse =\n      this.uischema ??\n      Generate.uiSchema(schemaToUse, undefined, undefined, schemaToUse);\n    const initCore = (): JsonFormsCore => {\n      const initialCore = {\n        data: dataToUse,\n        schema: schemaToUse,\n        uischema: uischemaToUse,\n      };\n      const core = this.middleware(\n        initialCore,\n        Actions.init(dataToUse, schemaToUse, uischemaToUse, {\n          validationMode: this.validationMode,\n          ajv: this.ajv,\n          additionalErrors: this.additionalErrors,\n        }),\n        coreReducer\n      );\n      return core;\n    };\n    return {\n      schemaToUse,\n      dataToUse,\n      uischemaToUse,\n      jsonforms: {\n        core: initCore(),\n        config: configReducer(undefined, Actions.setConfig(this.config)),\n        i18n: i18nReducer(\n          this.i18n,\n          Actions.updateI18n(\n            this.i18n?.locale,\n            this.i18n?.translate,\n            this.i18n?.translateError\n          )\n        ),\n        renderers: this.renderers,\n        cells: this.cells,\n        uischemas: this.uischemas,\n        readonly: this.readonly,\n      },\n    };\n  },\n  computed: {\n    coreDataToUpdate(): any {\n      return [\n        this.dataToUse,\n        this.schemaToUse,\n        this.uischemaToUse,\n        this.validationMode,\n        this.ajv,\n        this.additionalErrors,\n      ];\n    },\n    eventToEmit(): JsonFormsChangeEvent {\n      return {\n        data: this.jsonforms.core.data,\n        errors: this.jsonforms.core.errors,\n      };\n    },\n  },\n  watch: {\n    schema(newSchema) {\n      const generatorData = isObject(this.data) ? this.data : {};\n      this.schemaToUse = newSchema ?? Generate.jsonSchema(generatorData);\n      if (!this.uischema) {\n        this.uischemaToUse = Generate.uiSchema(\n          this.schemaToUse,\n          undefined,\n          undefined,\n          this.schemaToUse\n        );\n      }\n    },\n    uischema(newUischema) {\n      this.uischemaToUse =\n        newUischema ??\n        Generate.uiSchema(\n          this.schemaToUse,\n          undefined,\n          undefined,\n          this.schemaToUse\n        );\n    },\n    data(newData) {\n      this.dataToUse = newData;\n    },\n    renderers(newRenderers) {\n      this.jsonforms.renderers = newRenderers;\n    },\n    cells(newCells) {\n      this.jsonforms.cells = newCells;\n    },\n    uischemas(newUischemas) {\n      this.jsonforms.uischemas = newUischemas;\n    },\n    config: {\n      handler(newConfig) {\n        this.jsonforms.config = configReducer(\n          undefined,\n          Actions.setConfig(newConfig)\n        );\n      },\n      deep: true,\n    },\n    readonly(newReadonly) {\n      this.jsonforms.readonly = newReadonly;\n    },\n    coreDataToUpdate() {\n      this.jsonforms.core = this.middleware(\n        this.jsonforms.core as JsonFormsCore,\n        Actions.updateCore(\n          this.dataToUse,\n          this.schemaToUse,\n          this.uischemaToUse,\n          {\n            validationMode: this.validationMode,\n            ajv: this.ajv,\n            additionalErrors: this.additionalErrors,\n          }\n        ),\n        coreReducer\n      );\n    },\n    eventToEmit(newEvent) {\n      this.$emit('change', newEvent);\n    },\n    i18n: {\n      handler(newI18n) {\n        this.jsonforms.i18n = i18nReducer(\n          this.jsonforms.i18n,\n          Actions.updateI18n(\n            newI18n?.locale,\n            newI18n?.translate,\n            newI18n?.translateError\n          )\n        );\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    // emit an inital change so clients can react to error validation and default data insertion\n    this.$emit('change', {\n      data: this.jsonforms.core.data,\n      errors: this.jsonforms.core.errors,\n    });\n  },\n  methods: {\n    dispatch(action: CoreActions) {\n      this.jsonforms.core = this.middleware(\n        this.jsonforms.core as JsonFormsCore,\n        action,\n        coreReducer\n      );\n    },\n  },\n});\n</script>\n","<template>\n  <dispatch-renderer\n    :schema=\"jsonforms.core.schema\"\n    :uischema=\"jsonforms.core.uischema\"\n    :path=\"''\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { PropType, reactive, defineComponent } from 'vue';\nimport {\n  coreReducer,\n  Actions,\n  Generate,\n  configReducer,\n  JsonSchema,\n  UISchemaElement,\n  ValidationMode,\n  JsonFormsCore,\n  JsonFormsUISchemaRegistryEntry,\n  JsonFormsRendererRegistryEntry,\n  JsonFormsCellRendererRegistryEntry,\n  CoreActions,\n  i18nReducer,\n  JsonFormsI18nState,\n  defaultMiddleware,\n  Middleware,\n} from '@jsonforms/core';\nimport { JsonFormsChangeEvent, MaybeReadonly } from '../types';\nimport DispatchRenderer from './DispatchRenderer.vue';\n\nimport Ajv, { ErrorObject } from 'ajv';\n\n// TODO fix @typescript-eslint/ban-types\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isObject = (elem: any): elem is Object => {\n  return elem && typeof elem === 'object';\n};\n\nconst EMPTY: ErrorObject[] = reactive([]);\n\nexport default defineComponent({\n  name: 'JsonForms',\n  components: {\n    DispatchRenderer,\n  },\n  provide() {\n    return {\n      jsonforms: this.jsonforms,\n      dispatch: this.dispatch,\n    };\n  },\n  props: {\n    data: {\n      required: true,\n      type: [String, Number, Boolean, Array, Object] as PropType<any>,\n    },\n    schema: {\n      required: false,\n      type: [Object, Boolean] as PropType<JsonSchema>,\n      default: undefined,\n    },\n    uischema: {\n      required: false,\n      type: Object as PropType<UISchemaElement>,\n      default: undefined,\n    },\n    renderers: {\n      required: true,\n      type: Array as PropType<MaybeReadonly<JsonFormsRendererRegistryEntry[]>>,\n    },\n    cells: {\n      required: false,\n      type: Array as PropType<\n        MaybeReadonly<JsonFormsCellRendererRegistryEntry[]>\n      >,\n      default: () => [],\n    },\n    config: {\n      required: false,\n      type: Object as PropType<any>,\n      default: undefined,\n    },\n    readonly: {\n      required: false,\n      type: Boolean,\n      default: false,\n    },\n    uischemas: {\n      required: false,\n      type: Array as PropType<MaybeReadonly<JsonFormsUISchemaRegistryEntry[]>>,\n      default: () => [],\n    },\n    validationMode: {\n      required: false,\n      type: String as PropType<ValidationMode>,\n      default: 'ValidateAndShow',\n    },\n    ajv: {\n      required: false,\n      type: Object as PropType<Ajv>,\n      default: undefined,\n    },\n    i18n: {\n      required: false,\n      type: Object as PropType<JsonFormsI18nState>,\n      default: undefined,\n    },\n    additionalErrors: {\n      required: false,\n      type: Array as PropType<ErrorObject[]>,\n      default: () => EMPTY,\n    },\n    middleware: {\n      required: false,\n      type: Function as PropType<Middleware>,\n      default: defaultMiddleware,\n    },\n  },\n  emits: ['change'],\n  data() {\n    const dataToUse = this.data;\n    const generatorData = isObject(dataToUse) ? dataToUse : {};\n    const schemaToUse: JsonSchema =\n      this.schema ?? Generate.jsonSchema(generatorData);\n    const uischemaToUse =\n      this.uischema ??\n      Generate.uiSchema(schemaToUse, undefined, undefined, schemaToUse);\n    const initCore = (): JsonFormsCore => {\n      const initialCore = {\n        data: dataToUse,\n        schema: schemaToUse,\n        uischema: uischemaToUse,\n      };\n      const core = this.middleware(\n        initialCore,\n        Actions.init(dataToUse, schemaToUse, uischemaToUse, {\n          validationMode: this.validationMode,\n          ajv: this.ajv,\n          additionalErrors: this.additionalErrors,\n        }),\n        coreReducer\n      );\n      return core;\n    };\n    return {\n      schemaToUse,\n      dataToUse,\n      uischemaToUse,\n      jsonforms: {\n        core: initCore(),\n        config: configReducer(undefined, Actions.setConfig(this.config)),\n        i18n: i18nReducer(\n          this.i18n,\n          Actions.updateI18n(\n            this.i18n?.locale,\n            this.i18n?.translate,\n            this.i18n?.translateError\n          )\n        ),\n        renderers: this.renderers,\n        cells: this.cells,\n        uischemas: this.uischemas,\n        readonly: this.readonly,\n      },\n    };\n  },\n  computed: {\n    coreDataToUpdate(): any {\n      return [\n        this.dataToUse,\n        this.schemaToUse,\n        this.uischemaToUse,\n        this.validationMode,\n        this.ajv,\n        this.additionalErrors,\n      ];\n    },\n    eventToEmit(): JsonFormsChangeEvent {\n      return {\n        data: this.jsonforms.core.data,\n        errors: this.jsonforms.core.errors,\n      };\n    },\n  },\n  watch: {\n    schema(newSchema) {\n      const generatorData = isObject(this.data) ? this.data : {};\n      this.schemaToUse = newSchema ?? Generate.jsonSchema(generatorData);\n      if (!this.uischema) {\n        this.uischemaToUse = Generate.uiSchema(\n          this.schemaToUse,\n          undefined,\n          undefined,\n          this.schemaToUse\n        );\n      }\n    },\n    uischema(newUischema) {\n      this.uischemaToUse =\n        newUischema ??\n        Generate.uiSchema(\n          this.schemaToUse,\n          undefined,\n          undefined,\n          this.schemaToUse\n        );\n    },\n    data(newData) {\n      this.dataToUse = newData;\n    },\n    renderers(newRenderers) {\n      this.jsonforms.renderers = newRenderers;\n    },\n    cells(newCells) {\n      this.jsonforms.cells = newCells;\n    },\n    uischemas(newUischemas) {\n      this.jsonforms.uischemas = newUischemas;\n    },\n    config: {\n      handler(newConfig) {\n        this.jsonforms.config = configReducer(\n          undefined,\n          Actions.setConfig(newConfig)\n        );\n      },\n      deep: true,\n    },\n    readonly(newReadonly) {\n      this.jsonforms.readonly = newReadonly;\n    },\n    coreDataToUpdate() {\n      this.jsonforms.core = this.middleware(\n        this.jsonforms.core as JsonFormsCore,\n        Actions.updateCore(\n          this.dataToUse,\n          this.schemaToUse,\n          this.uischemaToUse,\n          {\n            validationMode: this.validationMode,\n            ajv: this.ajv,\n            additionalErrors: this.additionalErrors,\n          }\n        ),\n        coreReducer\n      );\n    },\n    eventToEmit(newEvent) {\n      this.$emit('change', newEvent);\n    },\n    i18n: {\n      handler(newI18n) {\n        this.jsonforms.i18n = i18nReducer(\n          this.jsonforms.i18n,\n          Actions.updateI18n(\n            newI18n?.locale,\n            newI18n?.translate,\n            newI18n?.translateError\n          )\n        );\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    // emit an inital change so clients can react to error validation and default data insertion\n    this.$emit('change', {\n      data: this.jsonforms.core.data,\n      errors: this.jsonforms.core.errors,\n    });\n  },\n  methods: {\n    dispatch(action: CoreActions) {\n      this.jsonforms.core = this.middleware(\n        this.jsonforms.core as JsonFormsCore,\n        action,\n        coreReducer\n      );\n    },\n  },\n});\n</script>\n"],"names":["defineComponent","name","_openBlock","_createElementBlock","rendererProps","schema","required","type","Object","Boolean","uischema","path","String","enabled","undefined","renderers","Array","cells","config","masterListItemProps","index","Number","selected","handleSelect","Function","removeItem","useControl","props","stateMap","dispatchMap","jsonforms","inject","dispatch","id","ref","control","computed","_objectSpread","value","dispatchMethods","onBeforeMount","scope","createId","onUnmounted","removeId","useJsonFormsControl","mapStateToControlProps","mapDispatchToControlProps","useJsonFormsControlWithDetail","mapStateToControlWithDetailProps","useJsonFormsEnumControl","mapStateToEnumControlProps","useJsonFormsOneOfEnumControl","mapStateToOneOfEnumControlProps","useJsonFormsArrayControl","mapStateToArrayControlProps","mapDispatchToArrayControlProps","useJsonFormsAllOfControl","mapStateToAllOfProps","useJsonFormsAnyOfControl","mapStateToAnyOfProps","useJsonFormsOneOfControl","mapStateToOneOfProps","useJsonFormsMultiEnumControl","mapStateToMultiEnumControlProps","mapDispatchToMultiEnumProps","useJsonFormsLayout","_useControl","mapStateToLayoutProps","other","_objectWithoutProperties","_excluded","layout","useJsonFormsArrayLayout","_useControl2","mapStateToArrayLayoutProps","_excluded2","useJsonFormsMasterListItem","_useControl3","mapStateToMasterListItemProps","_excluded3","item","useJsonFormsRenderer","rawProps","mapStateToJsonFormsRendererProps","rootSchema","renderer","_rawProps$value","rest","_excluded4","useJsonFormsLabel","_useControl4","mapStateToLabelProps","_excluded5","label","useJsonFormsCell","_useControl5","mapStateToCellProps","_excluded6","cell","useJsonFormsEnumCell","_useControl6","defaultMapStateToEnumCellProps","_excluded7","useJsonFormsOneOfEnumCell","_useControl7","mapStateToOneOfEnumCellProps","_excluded8","useJsonFormsDispatchCell","_useControl8","mapStateToDispatchCellProps","_excluded9","setup","determinedRenderer","_this","testerContext","maxBy","r","tester","UnknownRenderer","_createBlock","_resolveDynamicComponent","_ctx","_normalizeProps","_guardReactiveProps","determinedCell","isObject","elem","_typeof","EMPTY","reactive","components","DispatchRenderer","provide","data","_default","readonly","uischemas","validationMode","ajv","i18n","additionalErrors","middleware","defaultMiddleware","emits","_this$schema","_this$uischema","_this$i18n","_this$i18n2","_this$i18n3","dataToUse","generatorData","schemaToUse","Generate","jsonSchema","uischemaToUse","uiSchema","initCore","initialCore","core","Actions","init","coreReducer","configReducer","setConfig","i18nReducer","updateI18n","locale","translate","translateError","coreDataToUpdate","eventToEmit","errors","watch","newSchema","newUischema","newData","newRenderers","newCells","newUischemas","handler","newConfig","deep","newReadonly","updateCore","newEvent","$emit","newI18n","mounted","methods","action","_component_dispatch_renderer"],"mappings":"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"}